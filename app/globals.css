* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  width: 100%;
  overflow-x: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  background-color: #FFFFFF;
  color: #1F1F1F;
}

main {
  position: relative;
  z-index: 0;
  min-height: 100vh;
  width: 100%;
}

/* 홈페이지용 main 스타일 */
main.homePage {
  margin-top: 0;
  padding-top: 0;
}

/* 서브페이지용 main 스타일 */
main.subPage {
  padding-top: 70px; /* 헤더 높이만큼만 패딩 추가, 추가 여백은 컨테이너에서 조정 */
}

@media (max-width: 768px) {
  main.homePage {
    margin-top: 0;
    padding-top: 0;
    min-height: 100vh;
    width: 100vw;
    max-width: 100%;
    overflow-x: hidden;
  }
  
  main.subPage {
    padding-top: 60px; /* 모바일 헤더 높이만큼만 패딩 */
  }
  
  body {
    width: 100vw;
    overflow-x: hidden;
  }
}

a {
  color: inherit;
  text-decoration: none;
}

/* 최상위 스타일 - 모든 코드 블록 스크롤바에 적용 */
.code-scroll-container::-webkit-scrollbar-thumb {
  background: rgba(100, 116, 139, 0.6) !important;
  border-radius: 4px !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* PC 환경에서는 항상 스크롤바 표시 */
@media (min-width: 769px) {
  .code-scroll-container::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.6) !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* 오버플로우가 있는 경우에만 스크롤 적용 */
  .code-scroll-container.has-overflow-x,
  .code-scroll-container[data-has-overflow="true"] {
    /* 스크롤바 항상 표시 */
    overflow-x: scroll !important;
  }
  
  /* 데스크톱 전용 스크롤바 클래스 */
  .desktop-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.6) !important;
    visibility: visible !important;
    opacity: 1 !important;
    display: block !important;
  }
  
  .desktop-scrollbar {
    overflow-x: scroll !important;
    -webkit-overflow-scrolling: touch !important;
    overflow-scrolling: touch !important;
    
    /* 맥 OS 오버레이 스크롤바 비활성화 */
    -webkit-overflow-style: scrollbar !important;
    overflow-style: scrollbar !important;
    
    /* 스크롤바 숨김 방지 */
    &::-webkit-scrollbar {
      -webkit-appearance: none !important;
      width: 8px !important;
      height: 8px !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    
    &::-webkit-scrollbar-thumb {
      -webkit-appearance: none !important;
      background-color: rgba(100, 116, 139, 0.6) !important;
      border-radius: 4px !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    
    &::-webkit-scrollbar-track {
      -webkit-appearance: none !important;
      background-color: transparent !important;
      border-radius: 4px !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
  }
}

/* Firefox 브라우저 대응 */
@-moz-document url-prefix() {
  /* 오버플로우가 있는 경우에만 적용 */
  .code-scroll-container.has-overflow-x,
  .code-scroll-container[data-has-overflow="true"],
  .desktop-scrollbar {
    scrollbar-width: thin !important;
    scrollbar-color: rgba(100, 116, 139, 0.6) transparent !important;
  }
}

/* 코드 블록 스크롤바 스타일 - 항상 존재하되 투명함 */
.code-scroll-container::-webkit-scrollbar {
  width: 8px !important;
  height: 8px !important;
  background-color: transparent !important;
  display: block !important;
  visibility: visible !important;
}

.code-scroll-container::-webkit-scrollbar-track {
  background-color: transparent !important;
  border-radius: 4px !important;
  display: block !important;
  visibility: visible !important;
}

/* 스크롤 막대 - 기본은 약간 보임 */
.code-scroll-container::-webkit-scrollbar-thumb {
  background-color: rgba(100, 116, 139, 0.3) !important; /* 기본 가시성 향상 */
  border-radius: 4px !important;
  border: none !important; /* 테두리 제거 */
  display: block !important;
  visibility: visible !important;
}

/* 호버 또는 스크롤 시 막대 색상 변경 */
.code-scroll-container:hover::-webkit-scrollbar-thumb,
.code-scroll-container.is-scrolling::-webkit-scrollbar-thumb {
  background-color: rgba(100, 116, 139, 0.6) !important; /* 가시성 향상 */
  border: none !important; /* 테두리 제거 */
  display: block !important;
  visibility: visible !important;
}

/* PC 환경에서 코드 블록 스크롤바 강제 표시 */
@media (min-width: 769px) {
  /* 데이터 속성을 통한 오버플로우 감지 - 오버플로우가 있는 경우에만 적용 */
  .code-scroll-container.has-overflow-x::-webkit-scrollbar-thumb,
  .code-scroll-container[data-has-overflow="true"]::-webkit-scrollbar-thumb,
  .desktop-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(100, 116, 139, 0.6) !important;
    visibility: visible !important;
    opacity: 1 !important;
    border: none !important; /* 테두리 제거 */
    display: block !important;
  }
  
  .code-scroll-container.has-overflow-x:hover::-webkit-scrollbar-thumb,
  .code-scroll-container[data-has-overflow="true"]:hover::-webkit-scrollbar-thumb,
  .desktop-scrollbar:hover::-webkit-scrollbar-thumb {
    background-color: rgba(100, 116, 139, 0.8) !important;
    border: none !important; /* 테두리 제거 */
    display: block !important;
    visibility: visible !important;
  }
  
  /* PC에서는 스크롤바 항상 표시 - 오버플로우가 있는 경우에만 */
  .code-scroll-container.has-overflow-x,
  .code-scroll-container[data-has-overflow="true"],
  .desktop-scrollbar {
    -ms-overflow-style: auto !important; /* IE 및 Edge 지원 */
    overflow-x: scroll !important; /* 오버플로우 시에만 스크롤 표시 */
    -webkit-appearance: auto !important; /* 스크롤바 표시 보장 */
    
    /* macOS 스타일 오버라이드 시도 */
    &::-webkit-scrollbar {
      -webkit-appearance: auto !important;
      appearance: auto !important;
      display: block !important;
      visibility: visible !important;
    }
  }
  
  /* 스크롤바 표시 강제 - macOS 설정 무시 - 오버플로우가 있는 경우에만 */
  .code-scroll-container.has-overflow-x::-webkit-scrollbar,
  .code-scroll-container[data-has-overflow="true"]::-webkit-scrollbar,
  .desktop-scrollbar::-webkit-scrollbar {
    -webkit-appearance: auto !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
}

/* Firefox 지원 */
.code-scroll-container {
  scrollbar-width: thin !important;
  scrollbar-color: rgba(100, 116, 139, 0.3) transparent !important;
}

.code-scroll-container:hover,
.code-scroll-container.is-scrolling {
  scrollbar-color: rgba(100, 116, 139, 0.6) transparent !important;
}

/* Firefox용 PC 환경 스크롤바 항상 표시 - 오버플로우 있는 경우에만 */
@media (min-width: 769px) {
  .code-scroll-container.has-overflow-x,
  .code-scroll-container[data-has-overflow="true"],
  .desktop-scrollbar {
    scrollbar-width: thin !important;
    scrollbar-color: rgba(100, 116, 139, 0.6) transparent !important;
  }
  
  .code-scroll-container.has-overflow-x:hover,
  .code-scroll-container[data-has-overflow="true"]:hover,
  .desktop-scrollbar:hover {
    scrollbar-color: rgba(100, 116, 139, 0.8) transparent !important;
  }
}

/* 모바일 환경에서 코드 블록 스타일 */
@media (max-width: 768px) {
  /* 코드 블록 스크롤바 크기 조정 */
  .code-scroll-container::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  /* 코드 블록 내 텍스트 스타일 */
  .markdown-body pre,
  .markdown-body code {
    font-size: 0.8rem !important;
    line-height: 1.5 !important;
  }
  
  /* 라인 넘버 스타일 */
  pre [data-line-number] {
    min-width: 1.5em !important;
    padding-right: 0.5em !important;
  }
  
  /* 코드 블록 패딩 조정 */
  .markdown-body pre > div {
    padding: 0.8rem !important;
  }
  
  /* 긴 코드 줄 처리 - 줄바꿈 비활성화하고 스크롤 유지 */
  .markdown-body pre code {
    white-space: pre !important;
    word-break: normal !important;
  }
}

/* 체크박스 리스트 전역 스타일 */
/* 체크박스 리스트를 위한 전역 스타일 */
li input[type="checkbox"] + p,
li p:has(input[type="checkbox"]) {
  margin: 0 !important;
  display: inline-block !important;
}

.task-list-item {
  list-style-type: none !important;
  margin-left: 0 !important;
  padding-left: 0 !important;
}

ul.contains-task-list {
  list-style-type: none !important;
  padding-left: 0 !important; /* 20px에서 0px로 변경하여 왼쪽 정렬 개선 */
  margin: 0 !important;
}

/* remarkGfm이 사용하는 클래스 */
.contains-task-list {
  list-style-type: none !important;
  padding-left: 0 !important; /* 20px에서 0px로 변경하여 왼쪽 정렬 개선 */
  margin: 0 !important;
}

.task-list-item {
  list-style-type: none !important;
  padding-left: 0 !important;
}

/* 마크다운 체크박스 리스트의 불릿 제거 */
.markdown-body ul,
.markdown-body ol {
  padding-left: 0 !important;
  margin: 1.25em 0 !important;
  list-style-type: disc !important; /* none에서 disc로 변경 */
}

.markdown-body ul li,
.markdown-body ol li {
  list-style-position: inside !important; /* 불릿이 내부에 위치하도록 설정 */
  list-style-type: disc !important; /* none에서 disc로 변경 */
  padding-left: 0 !important;
  margin: 0 !important;
  position: relative !important;
}

/* 체크박스 리스트 스타일은 유지 */
.markdown-body ul li:has(input[type="checkbox"]) {
  padding-left: 0 !important; /* 체크박스 항목은 패딩 제거 */
  display: flex !important;
  align-items: flex-start !important;
  list-style-type: none !important; /* 체크박스 항목은 불릿 없음 */
}

.markdown-body ul li p:first-child,
.markdown-body ol li p:first-child {
  display: inline;
}

.markdown-body ul li:has(input[type="checkbox"]) {
  list-style-type: none !important;
  margin-left: 0 !important; /* -1.5rem에서 0으로 수정하여 좌우정렬 개선 */
  margin-bottom: 0.6em !important; /* 상하 간격 추가 */
}

.markdown-body ul li:has(input[type="checkbox"])::before {
  content: none !important;
  display: none !important;
}

/* 체크박스 스타일링 추가 */
.markdown-body input[type="checkbox"],
input[type="checkbox"] {
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  border: 2px solid #e2e8f0 !important; /* 기본 테두리는 회색으로 변경 */
  border-radius: 4px !important;
  outline: none !important;
  width: 1rem !important;
  height: 1rem !important;
  position: relative !important;
  cursor: default !important;
  background-color: white !important;
  transition: all 0.2s ease !important;
  margin-right: 0.5rem !important;
  margin-top: 0.33rem !important; /* 0.25rem에서 0.33rem으로 증가하여 체크박스를 아래로 내림 */
  vertical-align: top !important;
}

.markdown-body input[type="checkbox"]:checked,
input[type="checkbox"]:checked {
  background: #fda4af !important; /* 핑크색으로 변경 */
  border-color: #fda4af !important; /* 체크 시 테두리도 핑크색으로 변경 */
}

.markdown-body input[type="checkbox"]:checked::after,
input[type="checkbox"]:checked::after {
  content: '' !important;
  position: absolute !important;
  left: 0.25rem !important;
  top: 0.1rem !important;
  width: 0.25rem !important;
  height: 0.5rem !important;
  border: solid white !important;
  border-width: 0 2px 2px 0 !important;
  transform: rotate(45deg) !important;
}

.markdown-body input[type="checkbox"]:hover,
input[type="checkbox"]:hover {
  border-color: #fda4af !important; /* 호버 시 테두리 핑크색으로 변경 */
  box-shadow: 0 0 5px rgba(253, 164, 175, 0.4) !important; /* 그림자 색상도 변경 */
  cursor: default !important;
}

/* 체크박스와 텍스트 사이 간격 및 정렬 개선 */
.markdown-body li {
  line-height: 1.6 !important;
}

/* 코드 스크롤바 스타일 */
/* 중복된 스타일이므로 삭제 */
/* 이 부분 전체 삭제 */

/* 하이라이트된 코드 라인 스타일 - 더 높은 특이성으로 강제 적용 */
span.highlighted-line,
div.highlighted-line,
.highlighted-line[data-highlighted="true"],
.react-syntax-highlighter-line-number + .highlighted-line,
pre .token-line.highlighted-line,
code .token-line.highlighted-line,
[class*="language-"] .highlighted-line,
[class*="language-"] .token-line.highlighted-line {
  background-color: rgba(100, 74, 201, 0.15) !important;
  border-left: none !important;
  display: block !important;
  transition: all 0.3s ease-in-out !important;
  cursor: default !important;
  position: relative !important;
  z-index: 0 !important;
  font-weight: 600 !important;
}

/* 하이라이트된 라인 호버 효과 - 더 높은 특이성 */
span.highlighted-line:hover,
div.highlighted-line:hover,
.highlighted-line[data-highlighted="true"]:hover,
.react-syntax-highlighter-line-number + .highlighted-line:hover,
pre .token-line.highlighted-line:hover,
code .token-line.highlighted-line:hover,
[class*="language-"] .highlighted-line:hover,
[class*="language-"] .token-line.highlighted-line:hover {
  background-color: rgba(100, 74, 201, 0.3) !important;
  border-left: none !important;
  transform: none !important;
  box-shadow: 0 3px 8px rgba(100, 74, 201, 0.2) !important;
  z-index: 1 !important;
}

/* line-number 스타일도 수정 */
span.highlighted-line .linenumber,
div.highlighted-line .linenumber,
.highlighted-line[data-highlighted="true"] .linenumber,
pre .token-line.highlighted-line .linenumber,
code .token-line.highlighted-line .linenumber,
[class*="language-"] .highlighted-line .linenumber,
[class*="language-"] .token-line.highlighted-line .linenumber,
.highlighted-line span[style*="color: rgb(170, 170, 170)"],
.highlighted-line [data-line-number] {
  border-left: none !important;
  font-weight: 600 !important;
  color: rgba(100, 74, 201, 0.8) !important;
  transition: all 0.3s ease-in-out !important;
}

span.highlighted-line:hover .linenumber,
div.highlighted-line:hover .linenumber,
.highlighted-line[data-highlighted="true"]:hover .linenumber,
pre .token-line.highlighted-line:hover .linenumber,
code .token-line.highlighted-line:hover .linenumber,
[class*="language-"] .highlighted-line:hover .linenumber,
[class*="language-"] .token-line.highlighted-line:hover .linenumber,
.highlighted-line:hover span[style*="color: rgb(170, 170, 170)"],
.highlighted-line:hover [data-line-number] {
  color: rgba(100, 74, 201, 1) !important;
}

/* Firefox에서 하이라이트된 라인 지원 */
@-moz-document url-prefix() {
  .highlighted-line {
    background-color: rgba(100, 74, 201, 0.08) !important;
    border-left: none !important;
    box-shadow: none !important;
    transition: all 0.3s ease-in-out !important;
    position: relative !important;
  }
  
  .highlighted-line:hover {
    background-color: rgba(100, 74, 201, 0.25) !important;
    border-left: none !important;
    transform: none !important;
    box-shadow: 0 3px 8px rgba(100, 74, 201, 0.2) !important;
    z-index: 1 !important;
  }
  
  .highlighted-line:hover .linenumber {
    color: rgba(100, 74, 201, 1) !important;
  }
}

/* 모바일 환경에서의 하이라이트 라인 스타일 조정 */
@media (max-width: 768px) {
  .highlighted-line {
    margin-left: -2px !important;
    border-left-width: 2px !important;
  }
}

/* inline style로 강제 적용되도록 !important 키워드 추가 */
@keyframes highlightPulse {
  0% { background-color: rgba(100, 74, 201, 0.15); }
  50% { background-color: rgba(100, 74, 201, 0.2); }
  100% { background-color: rgba(100, 74, 201, 0.15); }
}

/* Syntax Highlighter 내부 클래스 직접 타겟팅 */
body .token-line.highlighted-line,
body pre code .token-line.highlighted-line,
body div[style] .token-line.highlighted-line,
body span.token-line.highlighted-line,
body [class*="react-syntax-highlighter"] .token-line.highlighted-line,
body [class*="react-syntax-highlighter"] .highlighted-line,
body [class*="language-"] .token-line.highlighted-line {
  background-color: rgba(100, 74, 201, 0.15) !important;
  border-left: none !important;
  display: block !important;
  transition: all 0.3s ease-in-out !important;
  cursor: default !important;
  position: relative !important;
  z-index: 0 !important;
  animation: highlightPulse 4s infinite ease-in-out !important;
  font-weight: 600 !important;
}

body .token-line.highlighted-line:hover,
body pre code .token-line.highlighted-line:hover,
body div[style] .token-line.highlighted-line:hover,
body span.token-line.highlighted-line:hover,
body [class*="react-syntax-highlighter"] .token-line.highlighted-line:hover,
body [class*="react-syntax-highlighter"] .highlighted-line:hover,
body [class*="language-"] .token-line.highlighted-line:hover {
  background-color: rgba(100, 74, 201, 0.3) !important;
  border-left: none !important;
  transform: none !important;
  box-shadow: 0 3px 8px rgba(100, 74, 201, 0.2) !important;
  z-index: 1 !important;
  animation: none !important;
}

/* 줄 번호도 직접 스타일링 */
body .token-line.highlighted-line .react-syntax-highlighter-line-number,
body [class*="linenumber-"] {
  color: rgba(100, 74, 201, 0.8) !important;
  font-weight: 600 !important;
  transition: all 0.3s ease-in-out !important;
}

body .token-line.highlighted-line:hover .react-syntax-highlighter-line-number,
body .highlighted-line:hover [class*="linenumber-"] {
  color: rgba(100, 74, 201, 1) !important;
}

/* 하이라이트된 라인 내부의 모든 텍스트 토큰에 대한 스타일 */
.highlighted-line .token,
.highlighted-line span[class*="token-"],
.highlighted-line [class*="token"],
.token-line.highlighted-line .token,
.token-line.highlighted-line span[class*="token-"],
.token-line.highlighted-line [class*="token"] {
  font-weight: 600 !important;
}

/* Enhance KaTeX Math Rendering Styles */
.katex {
  font-size: 1.1em;
  font-family: 'KaTeX_Main', serif;
  transition: color 0.2s ease;
}

/* Improved inline math selector to ensure it captures all inline math expressions */
.katex-mathml, /* KaTeX internal component */
.katex-html,  /* KaTeX internal component */
:not(.katex-display) > .katex, /* Direct non-display container */
span:not(.katex-display) .katex, /* Any span containing KaTeX that's not display math */
p > .katex {  /* KaTeX directly inside paragraph */
  display: inline-flex;
  align-items: center;
  vertical-align: middle;
  transition: color 0.2s ease;
}

/* Inline math hover effect - using more specific selectors to target inline math */
:not(.katex-display) > .katex:hover,
span:not(.katex-display) .katex:hover,
p > .katex:hover {
  color: #644AC9;
}

/* Block math hover effect - removed transform, kept subtle effects */
.katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  padding: 1rem 0;
  margin: 1.5rem 0;
  transition: color 0.3s ease;
  border-radius: 4px;
}

/* Removed hover effects for display math - only remove background and shadow effects */
/* 
.katex-display:hover {
  box-shadow: 0 2px 8px rgba(100, 74, 201, 0.15);
  background-color: rgba(250, 250, 254, 0.6);
}
*/

/* Ensure proper alignment for display math */
.katex-display > .katex {
  display: block;
  text-align: center;
  margin: 0.5em 0;
  transition: color 0.2s ease;
}

/* Restore hover effect for math content - change color only */
.katex-display:hover .katex {
  color: #644AC9;
}

/* Ensure code blocks display LaTeX properly too */
pre .katex-display {
  margin: 0;
  padding: 0.5rem 0;
} 